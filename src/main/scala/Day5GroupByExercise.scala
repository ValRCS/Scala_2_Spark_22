package com.github.ValRCS

object Veggies {
  //from https://raw.githubusercontent.com/kranthic/sandiego/master/dictionaries/vegetables.txt
  val text = "Aburana\nAcorn squash/Pepper squash\nAhipa\nAlfalfa sprouts\nAmaranth\nAmerican groundnuts\nAnise\nAonori\nArame\nArracacha\nArrowhead\nArrowroot\nArtichoke/Globe artichoke\nArugula/Salad rocket\nAsparagus\nAzuki beans\nBamboo shoots/Bamboo sprouts\nBanana squash\nBasil/Sweet basil\nBeans\nBean sprouts\nBeet\nBelgian endive\nBell pepper/Sweet pepper\nBitter leaf\nBitter melon/Bitter gourd/Bitter squash\nBlack beans\nBlack cumin\nBlack-eyed peas\nBok choy/Chinese cabbage\nBorage\nBorlotti beans\nBottle gourd/Calabash\nBreadfruit\nBroadleaf arrowhead\nBroccoli\nBroccolini/Baby broccoli\nBrussels sprout\nBull's blood\nBurdock\nButter beans/Lima beans\nButtercup squash\nButterhead lettuce\nButternut pumpkin/Butternut squash\nCabbage\nCabbage sprouts\nCactus leaves\nCaigua\nCamas\nCape gooseberry\nCaraway\nCardoon/Artichoke thistle\nCarola\nCarrot\nCassava/Yuca\nCatsear\nCauliflower\nCayenne pepper\nCeleriac\nCelery\nCeltuce\nCeylon spinach\nChaya/Tree spinach\nChayote/Christophene\nCherry tomatoes\nCucumber\nChickweed\nChicory\nChile peppers\nChinese chives/Garlic chives\nChinese mallow\nChinese snow peas\nChives\nChoy sum\nChrysanthemum leaves\nCilantro/Coriander\nCollard greens\nCoral lettuce\nCorn\nCorn salad/Lamb's lettuce\nDabberlocks/badderlocks\nDandelion\nDelicata squash\nDill/Lao coriander\nDinosaur kale/Lacinato kale\nDolichos beans\nDrumsticks\nDulse\nDaikon\nEarthnut pea\nEdamame\nEggplant/Aubergine\nElephant foot yam\nElephant garlic\nEndive\nEnglish peas/Peas\nEnsete\nEpazote\nEscarole\nFat hen\nFava beans/Broad beans\nFennel/Finocchio\nFiddlehead fern\nFlorence fennel\nFlowering cabbage\nFluted pumpkin\nFrench beans/Green beans\nGarbanzo beans/Chickpeas\nGarden cress/Cress\nGarden rocket\nGarlic\nGem squash\nGherkin\nGinger\nGlobe eggplant\nGobo\nGolden nugget squash\nGuar\nGolden Samphire\nGood King Henry\nGourd\nGrape tomato\nGreater plantain\nGreen cabbage\nGreen cauliflower\nGreen onion\nGreen pepper\nGroundnuts\nHabanero chili\nHakurei turnip\nHamburg rooted parsley\nHaricot beans\nHijiki\nHorse gram\nHorseradish\nHothouse cucumber\nHubbard squash\nHyacinth beans\nIce plant\nIndian peas\nIrish moss\nItalian sweet pepper\nItalian red onion\nJalapeño\nJapanese bunching onion\nJapanese eggplant\nJapanese pumpkin/Kabocha squash\nJapanese turnips\nJerusalem artichoke/Sunchoke\nJícama\nKabu\nKai-lan/Chinese broccoli\nKale\nKelps\nKidney beans\nKohlrabi/German turnip\nKomatsuna\nKombu\nKuka\nKurrat\nLagos bologi\nLand cress\nLaver\nLeafy greens\nLebanese cucumber\nLeeks\nLemon\nLentils\nLemon grass\nLettuce\nLima beans\nLime\nLizard's tail\nLotus root\nLuffa\nMache\nMalabar gourd\nMange tout\nMarjoram\nMarrow\nMelons\nMiner's lettuce\nMinikin\nMitsuba\nMyoga\nMizuna\nMorel/Morchella\nMoth beans\nMountain pepper\nMozuku\nMung beans\nMulukhiyah\nMushroom\nMustard plant\nNapa cabbage\nNasturtium\nNasu\nNavy beans\nNegi\nNettles\nNew Zealand spinach\nNopales\nNori\nOakleaf lettuce\nOgonori\nOkra\nOnions\nOlives\nOrache\nOstrich fern\nOyster plant\nPak choi/Chinese cabbage\nPalm heart\nParacress\nParsley\nParsnips\nPattypan squash\nPeanut\nPea sprouts/leaves\nPigeon pea\nPignut\nPinto beans\nPlectranthus\nPoblano\nPohole\nPointed gourd\nPoke\nPokeweed\nPotatoes\nPrairie turnip\nPrussian asparagus\nPumpkins\nPurslane\nQuince\nRadicchio\nRadish\nRainbow chard\nRapeseed\nRapini/Broccoli rabé\nRed bell peppers\nRed cabbage\nRed kidney beans\nRenkon\nRhubarb\nRidge cucumber\nRidge gourd\nRocket\nRockmelon\nRomaine lettuce/Cos lettuce\nRomanesco broccoli\nRomano beans\nRosemary\nRunner beans\nRutabaga/Swedish turnips\nSalad turnip\nSalsify\nSamphire\nSavoy cabbage\nSatoimo\nSatsumaimo\u200B/Sweet potato\nScallions/Spring onions\nScorzonera\nSculpit/Stridolo\nSea beet\nSea grape\nSea kale\nSea lettuce\nShallots\nShiso/Ohba\nSierra leone bologi\nSilverbeet/Chard\nSkirret\nSloke\nSnake beans\nSnake gourd\nSnake squash\nSnow peas\nSoko/Lagos spinach\nSorrel\nSoybeans\nSpaghetti squash\nSpinach\nSpring greens\nSquash\nSquash blossoms\nStriped marrow\nSugar snap peas\nSweet corn\nTabasco pepper\nTaro\nTarwi\nTatsoi/Spinach mustard\nTepary beans\nThyme\nTigernut\nTinda\nTomatillo\nTomato\nT-plant\nTurnips\nTuscan kale\nUlluco\nUrad bean\nVelvet bean\nVidalia onion\nWakame\nWasabi\nWater chestnut\nWatercress\nWater spinach\nWelsh onion\nWest Indian gherkin\nWest Indian pumpkin\nWhite eggplant\nWhite salad onion\nWild leek\nWinged beans\nWinter melon\nWinter purslane\nWinter squash\nXemenia\nXigua\nYacón\nYam\nYamaimo\nYardlong beans\nYarrow\nYau chow\nYellow squash\nYow choy\nYu choy sum\nZucchini/Courgette"
  val items: Array[String] = text.split("\n")
}


object Day5GroupByExercise extends App {
  //your task is to group and provide some statistics on vegetables found in Veggies.items
  println(Veggies.items.head)
  println(Veggies.items.last)

  //TODO so group by first letter
  //Print simple statistics on how many Veggies start with each letter of the alphabet (if there is some letter missing that is fine)
  //there are multiple approaches
  //you can convert your map to sortedMap if you want - one of the ways to do it
  val veggieGroup: Map[Char, Array[String]] = Veggies.items.groupBy(_.charAt(0))
  //so nice way of getting statistics for each letter
  println(veggieGroup.view.mapValues(x => x.size).mkString(", "))
  for ((key, value) <- veggieGroup) {
    println(s"Letter $key - > ${value.toList.sorted}")
  }


  val alphabetVeggies = Veggies.items.groupBy(_(0))
  val sortedAlphabetVeggies = alphabetVeggies.toSeq.sortBy(_._1)
  //by going to sequence
  //so we go from Map to Sequence, sorting by first element of tuple which happens to be character

  for ((key, value) <- sortedAlphabetVeggies) {
    if (value.toList.size > 1) {
      println(s"There are ${value.toList.size} vegetables that start with $key:\n${value.mkString(", ")}\n---")
    } else {
      println(s"There is ${value.toList.size} vegetable that starts with $key:\n${value.mkString(", ")}\n---")
    }
  }
  //bonus print each letter and then the Veggies under that letter in a sorted order

  val groupedVeggies = Veggies.items.groupBy(_.head)

  //https://stackoverflow.com/questions/3074118/how-do-i-convert-a-mapint-any-to-a-sortedmap-in-scala-or-a-treemap
  val sortedVeggieMap = groupedVeggies.to(collection.immutable.SortedMap) //so should be sorted by key - which is char here
  for ((key, value) <- sortedVeggieMap) {
    println(s"Letter $key - > ${value.length} veggie(s) ${value.toList.sorted}")
  }

  val storedFruits = Array("apple", "orange", "banana", "apple", "pear", "apple", "pear")
  val exactGrouping = storedFruits.groupBy(_.toString)
  for ((key, value) <- exactGrouping) println(s"Key - $key -> ${value.toList}")
  //so this will be a faster way of obtaining counts for each unit
  val fruitCounts = exactGrouping.map(kv => (kv._1, kv._2.length))
  println(fruitCounts)

}
